(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7230)}])},7230:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(4232),s=n(9786),a=n(8230),o=n.n(a),i=n(7876);function c(e){var t=e.product,n=t.image||t.imageUrl||t.images&&t.images[0]||"/placeholder.png";return(0,i.jsx)(o(),{href:"/product/".concat(t.id),className:"block group",style:{textDecoration:"none"},children:(0,i.jsxs)("div",{className:"card shadow-lg rounded-4 border-0 h-100 p-2 bg-white position-relative hover-shadow",style:{width:"19rem",minHeight:"27rem",transition:"transform 0.2s",cursor:"pointer"},onMouseEnter:function(e){return e.currentTarget.style.transform="scale(1.04)"},onMouseLeave:function(e){return e.currentTarget.style.transform="scale(1)"},children:[(0,i.jsx)("div",{className:"card-img-top d-flex justify-content-center align-items-center bg-light rounded-3 overflow-hidden",style:{height:"180px"},children:(0,i.jsx)("img",{src:n,alt:t.title,className:"img-fluid",style:{maxHeight:"160px",objectFit:"cover"}})}),(0,i.jsxs)("div",{className:"card-body text-center d-flex flex-column justify-content-between",children:[(0,i.jsx)("h5",{className:"card-title mb-0 fw-bold text-dark",style:{textDecoration:"none"},children:t.title}),(0,i.jsx)("div",{className:"mt-1 mb-2",children:t.discount?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"text-muted",style:{textDecoration:"line-through",color:"#888"},children:["$",t.price]}),(0,i.jsxs)("span",{className:"fw-bold text-primary ms-2",style:{textDecoration:"none"},children:["$",t.discountedPrice]})]}):(0,i.jsxs)("span",{className:"fw-bold text-primary",style:{textDecoration:"none"},children:["$",t.price]})}),(0,i.jsxs)("div",{className:"text-secondary mb-2",children:["Rating: ",t.rating]})]}),(0,i.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100 rounded-4",style:{pointerEvents:"none",transition:"box-shadow 0.2s"}})]})})}function l(e){var t=e.value,n=e.onChange;return(0,i.jsxs)("div",{className:"input-group mb-3 mx-auto",style:{maxWidth:"320px"},children:[(0,i.jsx)("span",{className:"input-group-text",id:"search-icon","aria-label":"Snowflake",role:"img",children:"❄️"}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Search products...",value:t,onChange:n,"aria-label":"Search products","aria-describedby":"search-icon"})]})}function u(e){var t=e.showToast,n=(0,r.useState)([]),a=n[0],o=n[1],u=(0,r.useState)([]),d=u[0],h=u[1],p=(0,r.useState)(""),x=p[0],m=p[1],f=(0,r.useState)(""),g=f[0],v=f[1],j=(0,r.useState)(!0),b=j[0],y=j[1],N=(0,r.useState)(null),w=N[0],k=N[1];return((0,r.useEffect)(function(){y(!0),(0,s.j)().then(function(e){o(e),h(e),y(!1)}).catch(function(){k("Could not load products. Try again."),y(!1)})},[]),(0,r.useEffect)(function(){var e="string"==typeof x?x:"",n=a.filter(function(t){return"string"==typeof t.title&&t.title.toLowerCase().includes(e.toLowerCase())});"price"===g?n=n.sort(function(e,t){return e.price-t.price}):"name"===g&&(n=n.sort(function(e,t){return e.title.localeCompare(t.title)})),h(n),x&&0===n.length&&t("No products found","error")},[x,g,a,t]),b)?(0,i.jsx)("div",{className:"container mx-auto py-12 text-center text-blue-700 text-xl",children:"Loading..."}):w?(0,i.jsxs)("div",{className:"container mx-auto py-12 text-blue-900 text-center",children:[(0,i.jsx)("p",{className:"mb-4 text-lg",children:w}),(0,i.jsx)("button",{onClick:function(){return window.location.reload()},className:"mt-4 px-4 py-2 bg-gradient-to-r from-blue-700 to-blue-400 text-white rounded shadow",children:"Reload"})]}):(0,i.jsx)("main",{className:"bg-dark min-vh-100 text-light",children:(0,i.jsxs)("div",{className:"container py-5",children:[(0,i.jsxs)("h1",{className:"display-4 text-center text-light mb-5",children:[(0,i.jsx)("span",{role:"img","aria-label":"snowflake",children:"❄️"})," Winter Shop"]}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",style:{gap:"2rem"},children:[(0,i.jsx)("div",{children:(0,i.jsx)(l,{value:x,onChange:function(e){return m(e.target.value)}})}),(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("span",{className:"text-light me-2",children:"Sort by:"}),(0,i.jsxs)("select",{value:g,onChange:function(e){return v(e.target.value)},className:"form-select w-auto",children:[(0,i.jsx)("option",{value:"",children:"None"}),(0,i.jsx)("option",{value:"price",children:"Price"}),(0,i.jsx)("option",{value:"name",children:"Name"})]})]})]}),(0,i.jsxs)("div",{className:"row g-4",children:[0===d.length&&(0,i.jsx)("div",{className:"col-12 text-center text-light py-5 h4",children:"No products found."}),d.map(function(e){return(0,i.jsx)("div",{className:"col-12 col-sm-10 col-md-6 col-lg-4 d-flex justify-content-center mb-4",children:(0,i.jsx)(c,{product:e})},e.id)})]})]})})}},9786:(e,t,n)=>{"use strict";function r(e,t,n,r,s,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(s,a){var o=e.apply(t,n);function i(e){r(o,s,a,i,c,"next",e)}function c(e){r(o,s,a,i,c,"throw",e)}i(void 0)})}}n.d(t,{y:()=>u,j:()=>c});var a=n(3081),o=n.n(a),i="https://api.noroff.dev/api/v1/online-shop";function c(){return l.apply(this,arguments)}function l(){return(l=s(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i);case 2:if((t=e.sent).ok){e.next=5;break}throw Error("Failed to fetch products");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=s(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw Error("Failed to fetch product");case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);