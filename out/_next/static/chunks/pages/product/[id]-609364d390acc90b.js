(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{3930:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,{default:()=>c});var a=r(9099),s=r(4232),i=r(9786),o=r(7876);function c(e){var t=e.showToast,r=(0,a.useRouter)().query.id,c=(0,s.useState)(null),l=c[0],d=c[1],u=(0,s.useState)(!0),m=u[0],f=u[1],p=(0,s.useState)(null),h=p[0],x=p[1],b=(0,s.useState)(!1),v=b[0],y=b[1];if((0,s.useEffect)(function(){r&&(f(!0),(0,i.y)(r).then(d).catch(function(){return x("Could not load product. Try again.")}).finally(function(){return f(!1)}))},[r]),m)return(0,o.jsx)("div",{className:"container mx-auto py-12 text-center text-blue-700 text-xl",children:"Loading..."});if(h)return(0,o.jsxs)("div",{className:"container mx-auto py-12 text-blue-900 text-center",children:[(0,o.jsx)("p",{className:"mb-4 text-lg",children:h}),(0,o.jsx)("button",{onClick:function(){return window.location.reload()},className:"mt-4 px-4 py-2 bg-gradient-to-r from-blue-700 to-blue-400 text-white rounded shadow",children:"Reload"})]});if(!l)return null;var g=l.image||l.imageUrl||"/placeholder.png";return(0,o.jsx)("main",{className:"bg-dark min-vh-100 text-light",children:(0,o.jsxs)("div",{className:"container py-5 position-relative",children:[v&&(0,o.jsx)("div",{className:"toast align-items-center text-white bg-success border-0 show position-absolute top-0 end-0 m-4",role:"alert","aria-live":"assertive","aria-atomic":"true",style:{zIndex:9999,minWidth:"220px"},children:(0,o.jsx)("div",{className:"d-flex",children:(0,o.jsx)("div",{className:"toast-body",children:"Added to cart!"})})}),(0,o.jsxs)("div",{className:"row justify-content-center align-items-center g-5",children:[(0,o.jsx)("div",{className:"col-md-5 text-center",children:(0,o.jsx)("img",{src:g,alt:l.title,className:"img-fluid rounded-4 shadow border border-2 border-primary-subtle mb-3",style:{maxWidth:"260px",maxHeight:"260px",objectFit:"cover",background:"#e3f0ff"}})}),(0,o.jsxs)("div",{className:"col-md-7",children:[(0,o.jsxs)("h1",{className:"h3 fw-bold text-primary mb-3 d-flex align-items-center gap-2",children:[(0,o.jsx)("span",{style:{fontSize:"1.7rem"},children:"❄️"}),l.title]}),(0,o.jsx)("p",{className:"mb-3 text-secondary fs-5",style:{minHeight:"48px"},children:l.description}),(0,o.jsx)("div",{className:"mb-3",children:l.discount?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"text-decoration-line-through text-muted me-2",children:["$",l.price]}),(0,o.jsxs)("span",{className:"fw-bold text-primary fs-4",children:["$",l.discountedPrice]})]}):(0,o.jsxs)("span",{className:"fw-bold text-primary fs-4",children:["$",l.price]})}),(0,o.jsxs)("div",{className:"mb-3 text-info",children:["Rating: ",(0,o.jsx)("span",{className:"fw-semibold",children:l.rating})]}),(0,o.jsx)("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("cart")||"[]");localStorage.setItem("cart",JSON.stringify([].concat(function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[l]))),y(!0),setTimeout(function(){return y(!1)},2e3),t&&t("Added to cart!","success"),window.dispatchEvent(new Event("storage"))},className:"btn btn-primary btn-lg px-4 py-2 shadow-sm",style:{background:"linear-gradient(90deg, #1976d2 60%, #64b5f6 100%)",border:"none"},children:"Add to Cart"})]})]})]})})}},7580:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return r(3930)}])},9099:(e,t,r)=>{e.exports=r(5181)},9786:(e,t,r)=>{"use strict";function n(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,s){var i=e.apply(t,r);function o(e){n(i,a,s,o,c,"next",e)}function c(e){n(i,a,s,o,c,"throw",e)}o(void 0)})}}r.d(t,{y:()=>d,j:()=>c});var s=r(3081),i=r.n(s),o="https://api.noroff.dev/api/v1/online-shop";function c(){return l.apply(this,arguments)}function l(){return(l=a(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o);case 2:if((t=e.sent).ok){e.next=5;break}throw Error("Failed to fetch products");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=a(i().mark(function e(t){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/").concat(t));case 2:if((r=e.sent).ok){e.next=5;break}throw Error("Failed to fetch product");case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}}},e=>{e.O(0,[636,593,792],()=>e(e.s=7580)),_N_E=e.O()}]);