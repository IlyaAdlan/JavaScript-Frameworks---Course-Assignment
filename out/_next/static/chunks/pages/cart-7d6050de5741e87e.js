(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(6284),c=r(4232),n=r(9099),i=r(7876);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){var t=e.showToast,r=(0,c.useState)([]),a=r[0],l=r[1],d=(0,c.useState)({}),u=d[0],h=d[1],m=(0,n.useRouter)();(0,c.useEffect)(function(){var e=JSON.parse(localStorage.getItem("cart")||"[]");l(e);var t={};e.forEach(function(e){t[e.id]=t[e.id]?t[e.id]+1:1}),h(t)},[]);var b=function(e,t){h(function(r){return o(o({},r),{},(0,s.A)({},e,t))})},p=function(e){var r=a.filter(function(t){return t.id!==e});l(r),localStorage.setItem("cart",JSON.stringify(r)),t("Item removed from cart","error"),window.dispatchEvent(new Event("storage"));var s=o({},u);delete s[e],h(s)};if(0===a.length)return(0,i.jsx)("main",{className:"bg-dark min-vh-100 text-light",children:(0,i.jsxs)("div",{className:"container py-8",children:[(0,i.jsx)("h1",{className:"h2 fw-bold mb-4 text-primary",children:"Shopping Cart"}),(0,i.jsx)("p",{children:"Your cart is empty."})]})});var f={};return a.forEach(function(e){f[e.id]||(f[e.id]=o(o({},e),{},{quantity:0})),f[e.id].quantity+=1}),(0,i.jsx)("main",{className:"bg-dark min-vh-100 text-light",children:(0,i.jsxs)("div",{className:"container py-5",children:[(0,i.jsx)("h1",{className:"h2 fw-bold mb-4 text-primary",children:"Shopping Cart"}),(0,i.jsx)("div",{className:"table-responsive mb-4",children:(0,i.jsxs)("table",{className:"table align-middle table-bordered bg-secondary bg-opacity-75 text-light shadow-sm",children:[(0,i.jsx)("thead",{className:"table-light",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Image"}),(0,i.jsx)("th",{scope:"col",children:"Product"}),(0,i.jsx)("th",{scope:"col",children:"Price"}),(0,i.jsx)("th",{scope:"col",children:"Quantity"}),(0,i.jsx)("th",{scope:"col",children:"Remove"})]})}),(0,i.jsx)("tbody",{children:Object.values(f).map(function(e){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("img",{src:e.image||e.imageUrl||"/placeholder.png",alt:e.title,className:"rounded-3 border shadow-sm",style:{width:"60px",height:"60px",objectFit:"cover",background:"#e3f0ff"}})}),(0,i.jsx)("td",{className:"fw-semibold text-dark",children:e.title}),(0,i.jsxs)("td",{className:"fw-bold text-primary",children:["$",e.discountedPrice||e.price]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"number",min:"1",value:u[e.id]||e.quantity,onChange:function(t){return b(e.id,Number(t.target.value))},className:"form-control w-auto d-inline-block text-center",style:{maxWidth:"70px"}})}),(0,i.jsx)("td",{children:(0,i.jsxs)("button",{onClick:function(){return p(e.id)},className:"btn btn-outline-danger btn-sm px-3 py-1 fw-bold",children:[(0,i.jsx)("i",{className:"bi bi-trash me-1"}),"Remove"]})})]},e.id)})})]})}),(0,i.jsxs)("div",{className:"text-end mb-4 fs-5 fw-bold text-success",children:["Total: $",a.reduce(function(e,t){return e+(t.discountedPrice||t.price)*(u[t.id]||1)},0).toFixed(2)]}),(0,i.jsx)("div",{className:"d-flex justify-content-end",children:(0,i.jsxs)("button",{onClick:function(){localStorage.removeItem("cart"),t("Checkout successful!","success"),window.dispatchEvent(new Event("storage")),m.push("/checkout-success")},className:"btn btn-lg btn-success px-5 py-2 fw-bold shadow",children:[(0,i.jsx)("i",{className:"bi bi-bag-check me-2"}),"Checkout"]})})]})})}},2612:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(435)}])},9099:(e,t,r)=>{e.exports=r(5181)}},e=>{e.O(0,[636,593,792],()=>e(e.s=2612)),_N_E=e.O()}]);